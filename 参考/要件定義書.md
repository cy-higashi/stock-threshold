# 在庫しきい値アラート 要件定義書

## 1. 目的

ポータルが指定した最低在庫数未満の商品があった場合、CyberRecords の ChatWork にアラートを出し、担当者がポータル側に連携することで、在庫切れによる販売機会損失を防止する。

## 2. 要件定義


| No. | 要件       | 内容                                                            |
| --- | -------- | ------------------------------------------------------------- |
| 1   | 最低在庫の設定  | ポータルが指定する商品と最低在庫数は、ポータルごとの Excel で設定する。実行のたびに当該 Excel から読み出す。 |
| 2   | 在庫データの取得 | 引数で渡したディレクトリの CSV を全件取得する。                                    |
| 3   | アラート通知   | 総在庫数が最低在庫数を下回る場合、ChatWork にアラートを通知する。                         |
| 4   | 実行頻度     | 実行頻度は 1 日 1 回を想定する。                                           |


## 3. 用語


| 用語    | 説明                                                 |
| ----- | - |
| ポータル  | 在庫データの供給元となる各販路・チャネル。ポータルごとに Excel で商品と最低在庫数を設定する。 |
| ユーザ   | エクセルを操作するポータル側担当者                                  |
| 総在庫数  | 取得した在庫データ（CSV 等）を商品コードで合算した在庫数。                    |
| 最低在庫数 | ポータルが Excel で設定した、当該商品の在庫が下回ってはいけないしきい値。           |


